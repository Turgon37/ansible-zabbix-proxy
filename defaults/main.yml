---
# defaults file for zabbix-proxy

# Simple placeholder to allow other roles to detect this role
zabbix_proxy__role: True

# Enable facts deploiement
zabbix_proxy__facts: False

# Select type of database backend to use
# in 'mysql', 'pgsql'
#zabbix_proxy__type:

# Which version to install (if it is possible)
zabbix_proxy__version: 3.4

# User to run zabbix as
zabbix_proxy__service_user: zabbix
# Group to run zabbix as
zabbix_proxy__service_group: '{{ zabbix_proxy__service_user }}'

# Name of zabbix service
zabbix_proxy__service_name: zabbix-proxy

# Location of var directory for zabbix
zabbix_proxy__var_directory: /var/lib/zabbix
# Location of logs for zabbix
zabbix_proxy__log_directory: /var/log/zabbix

# Configuration directory (shared with agent)
zabbix_proxy__conf_directory: /etc/zabbix
# Main configuration file
zabbix_proxy__conf_file: '{{ zabbix_proxy__conf_directory }}/zabbix_proxy.conf'


############ GENERAL PARAMETERS #################
### Option: PidFile
#	Name of PID file.
# PidFile=/tmp/zabbix_proxy.pid
zabbix_proxy__pid_file: /var/run/zabbix/zabbix_proxy.pid

# SocketDir
#	IPC socket directory. Directory to store IPC sockets used by internal Zabbix services.
zabbix_proxy__socket_dir: /var/run/zabbix

# Proxy operating mode.
#	0 - proxy in the active mode
#	1 - proxy in the passive mode
zabbix_proxy__mode: 1

# LogType
#	Specifies where log messages are written to:
#		system  - syslog
#		file    - file specified with LogFile parameter
#		console - standard output
zabbix_proxy__log_type: file

# LogFile : Log file name for LogType 'file' parameter.
zabbix_proxy__log_file: '{{ zabbix_proxy__log_directory }}/zabbix_proxy.log'

# LogFileSize
#	Maximum size of log file in MB.
#	0 - disable automatic log rotation.
zabbix_proxy__log_size: 1


############ NETWORK PARAMETERS #################
# IP address (or hostname) of Zabbix server.
#	Active proxy will get configuration data from the server.
#	For a proxy in the passive mode this parameter will be ignored.
#zabbix_proxy__server:

# ServerPort
#	Port of Zabbix trapper on Zabbix server.
#	For a proxy in the passive mode this parameter will be ignored.
zabbix_proxy__server_port: 10051

# Hostname
#	Unique, case sensitive Proxy name. Make sure the Proxy name is known to the server!
#	Value is acquired from HostnameItem if undefined.
zabbix_proxy__hostname: '{{ ansible_hostname }}'

# HostnameItem
#	Item used for generating Hostname if it is undefined. Ignored if Hostname is defined.
zabbix_proxy__hostname_item: system.hostname

# ListenPort
#	Listen port for trapper.
zabbix_proxy__listen_port: 10051

# SourceIP
#	Source IP address for outgoing connections.
#zabbix_proxy__source_ip:


############ DATABASE PARAMETERS #################

# DBHost : Database host name.
#	If set to localhost, socket is used for MySQL.
#	If set to empty string, socket is used for PostgreSQL.
zabbix_proxy__db_host: localhost

# DBSocket : Path to MySQL socket.
#zabbix_proxy__db_socket:

# DBPort : Database port when not using local socket. Ignored for SQLite.
#zabbix_proxy__db_port: 3306

# DBName : Database name.
#	For SQLite3 path to database file must be provided. DBUser and DBPassword are ignored.
#	Warning: do not attempt to use the same database Zabbix server is using.
#zabbix_proxy__db_name:

# DBSchema : Schema name. Used for IBM DB2 and PostgreSQL.
zabbix_proxy__db_schema: public

# DBUser : Database user. Ignored for SQLite.
#zabbix_proxy__db_user:

# DBPassword : Database password. Ignored for SQLite.
#zabbix_proxy__db_password:
